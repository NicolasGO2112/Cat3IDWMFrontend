<link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">

<div 
  class="flex items-center justify-center min-h-screen bg-gray-100"
>
  <div class="container mx-auto max-w-sm text-center bg-white p-6 rounded-lg shadow-md">
    <!-- Título de la página -->
    <h1 class="text-4xl font-bold" style="font-family: 'Lobster', cursive; color: #e1306c;">
      Postagram
    </h1>

    <!-- Formulario Reactivo -->
    <form
      [formGroup]="loginForm"
      class="mt-8"
      (ngSubmit)="onSubmit()"
    >
      <!-- Campo de correo -->
      <div class="mb-5">
        <label
          for="email"
          class="block mb-2 text-sm font-medium text-black"
        >
          Tu correo
        </label>
        <input
          type="email"
          id="email"
          formControlName="mail"
          class="bg-white border border-black text-black text-sm rounded-lg block w-full p-2.5"
          placeholder="name@example.com"
        />
        <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="text-red-500 text-sm">
          Por favor, introduce un correo válido.
        </div>
      </div>

      <!-- Campo de contraseña -->
      <div class="mb-5">
        <label
          for="password"
          class="block mb-2 text-sm font-medium text-black"
        >
          Tu contraseña
        </label>
        <input
          type="password"
          id="password"
          formControlName="password"
          class="bg-white border border-black text-black text-sm rounded-lg block w-full p-2.5"
          placeholder="Contraseña"
        />
        <div *ngIf="loginForm.get('password')?.hasError('required') && loginForm.get('password')?.touched" class="text-red-500 text-sm">
          La contraseña es obligatoria.
        </div>
        <div *ngIf="loginForm.get('password')?.hasError('minlength') && loginForm.get('password')?.touched" class="text-red-500 text-sm">
          La contraseña debe tener al menos 8 caracteres.
        </div>
        <div *ngIf="loginForm.get('password')?.hasError('noNumber') && loginForm.get('password')?.touched" class="text-red-500 text-sm">
          La contraseña debe contener al menos un número.
        </div>
      </div>

      <!-- Botón de enviar -->
      <button
        type="submit"
        [disabled]="loginForm.invalid"
        [ngClass]="{
          'bg-gray-400 cursor-not-allowed': loginForm.invalid,
          'bg-[#e1306c] cursor-pointer': !loginForm.invalid
        }"
        class="text-white font-medium rounded-lg text-sm w-full px-5 py-2.5 transition duration-300"
      >
        Iniciar sesión
      </button>
    </form>
    <div *ngIf="successMessage" class="text-green-500 text-sm mt-4">
      {{ successMessage }}
    </div>
  
    <div *ngIf="errorMessage" class="text-red-500 text-sm mt-4">
      {{ errorMessage }}
    </div>
    <!-- Enlace para registrarse -->
    <p class="mt-5 text-sm text-black">
      <a 
        (click)="navigate('register')" 
        class="text-blue-600 hover:underline cursor-pointer"
      >
        ¿No tienes una cuenta? Regístrate
      </a>
    </p>
  </div>
</div>
